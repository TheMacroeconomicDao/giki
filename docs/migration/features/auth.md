# Функциональность Auth

## Обзор

Функциональность `Auth` отвечает за аутентификацию и авторизацию пользователей в системе.
Реализует подключение к Web3 кошелькам, подписание сообщений и управление сессией пользователя.

## Статус миграции

| Компонент     | Прогресс | Статус                               |
|---------------|----------|--------------------------------------|
| Модель        | 100%     | ✅ Завершено                          |
| API           | 100%     | ✅ Завершено                          |
| UI            | 100%     | ✅ Завершено                          |

## Компоненты

### Модель (features/auth/model)
- ✅ `types.ts`: Типы и интерфейсы аутентификации
- ✅ `store.ts`: Zustand-стор для хранения состояния аутентификации

```typescript
// Пример интерфейса состояния аутентификации
interface AuthState {
  status: 'authenticated' | 'unauthenticated' | 'loading';
  user: User | null;
  web3Provider: Web3Provider;
  walletAddress: string | null;
  loading: boolean;
  error: string | null;
}
```

### API (features/auth/api)
- ✅ `authApi.ts`: API для работы с аутентификацией
  - ✅ Аутентификация пользователя
  - ✅ Выход пользователя
  - ✅ Проверка сессии
  - ✅ Обновление токена доступа

### UI-компоненты (features/auth/ui)
- ✅ `Web3Connect`: Компонент для подключения к Web3 кошелькам
- ✅ `SignMessage`: Компонент для подписи сообщений через Web3 кошелек
- ✅ `AuthStatus`: Компонент для отображения текущего статуса аутентификации

## Интеграция

Функциональность Auth интегрирована с:
- Сущностью User (`entities/user`)
- Провайдером Auth (`app/providers/auth`)
- Web3 библиотеками (`shared/lib/web3`)

## Примечания по реализации

1. Аутентификация реализована через подпись сообщений в Web3 кошельках
2. Поддерживаются различные типы кошельков: MetaMask, WalletConnect, Coinbase Wallet
3. Состояние аутентификации хранится в Zustand сторе и доступно через хук useAuthStore
4. Для работы с сессиями используется JWT-аутентификация с refresh-токенами 